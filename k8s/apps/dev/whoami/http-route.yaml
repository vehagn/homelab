apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: whoami
  namespace: whoami
spec:
  parentRefs:
    - { name: external, namespace: gateway }
    - { name: internal, namespace: gateway }
  hostnames: [ "whoami.stonegarden.dev" ]
  rules:
    - backendRefs: [ { name: whoami, port: 80 } ]
      matches:
        - path: { type: PathPrefix, value: / }
